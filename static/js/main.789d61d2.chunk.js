(this.webpackJsonpfourmeta_tt=this.webpackJsonpfourmeta_tt||[]).push([[0],{21:function(e,t,a){},23:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(9),r=a.n(s),i=a(4),o=a(5),l=a(2),u=a(8),m=a.n(u),j=a(10),d=a(11),b=a(12),p=a(15),h=a(14),O=(a(21),function(){return e="/data/shipments.json",fetch("".concat("https://ruslan-bondarenko.github.io/tt_fourmeta").concat(e)).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}));var e}),f=a(1),x=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={companies:[]},e}return Object(b.a)(a,[{key:"restoreData",value:function(){var e=Object(j.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,this.setState({companies:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.restoreData()}},{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{children:Object(f.jsxs)("nav",{className:"nav",children:[Object(f.jsx)("a",{href:"/",className:"nav__link",children:"Cargo Planner"}),Object(f.jsx)("input",{type:"text",className:"search_input search",placeholder:"Search",onChange:function(t){e.props.getQuery(t.target.value)}}),Object(f.jsxs)("div",{className:"nav__btn",children:[Object(f.jsx)("button",{type:"button",className:"nav__btn-item",onClick:function(){console.log("Load"),e.restoreData(),e.props.getData(e.state.companies)},children:"Load"}),Object(f.jsx)("button",{type:"button",className:"nav__btn-item",onClick:function(){console.log("Save"),localStorage.setItem("dataOfCompanies",JSON.stringify(e.props.importData))},children:"Save"})]})]})})}}]),a}(c.a.Component),g=(a(23),a(13)),v=a.n(g),_=function(e){var t=Object(n.useState)(e.data.boxes),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(e.data.id),o=Object(i.a)(r,2),l=o[0],u=o[1],m=Object(n.useState)(!1),j=Object(i.a)(m,2),d=j[0],b=j[1];return l!==e.data.id&&(u(e.data.id),b(!1),s(e.data.boxes),null==e.data.boxes&&s("")),Object(f.jsxs)("div",{className:"main__items",children:[Object(f.jsx)("h2",{className:"main__company-name title",children:e.data.name}),Object(f.jsx)("h3",{className:"main__company-email subtitle",children:Object(f.jsx)("a",{href:"mailto:".concat(e.data.email),children:e.data.email})}),Object(f.jsxs)("p",{className:"main__company-num-of-boxes",children:["Number of required cargo bays: ",null!==c?Math.ceil(c.split(",").reduce((function(e,t){return e+Number(t)/10}),0)):0]}),Object(f.jsx)("label",{htmlFor:"cargo-boxes",className:"main__company-cargo-title",children:"Cargo boxes:"}),Object(f.jsx)("input",{type:"text",id:"cargo-boxes",className:v()({"input main__company-cargo-put":!0,"input is-danger":d}),value:c,onChange:function(t){t.target.value.split(",").filter((function(e){return""!==e})).every((function(e){return Number(e)}))?(b(!1),s(t.target.value.trim()),e.data.boxes=t.target.value.trim()):b(!0)}}),d&&Object(f.jsx)("div",{style:{color:"#f00",margin:"10px 0 0 0"},children:"Invalid value, enter only numbers!"})]})},N=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(i.a)(s,2),u=r[0],m=r[1],j=JSON.parse(localStorage.getItem("dataOfCompanies"))||u,d=j.filter((function(e){var t=a.toLowerCase();return e.name.toLowerCase().includes(t)}));return Object(f.jsxs)("div",{children:[Object(f.jsx)(x,{getQuery:c,getData:m,importData:j}),Object(f.jsxs)("div",{className:"main",children:[Object(f.jsx)("div",{className:"main__sidebar",children:Object(f.jsxs)("ul",{className:"main__group",children:[0===u.length&&null==JSON.parse(localStorage.getItem("dataOfCompanies"))&&Object(f.jsx)("div",{className:"notification is-danger",style:{textAlign:"center"},children:"Press Load to get data!"}),(u.length>0||JSON.parse(localStorage.getItem("dataOfCompanies")))&&0===d.length&&Object(f.jsx)("p",{className:"notification is-info",style:{textAlign:"center"},children:"No companies"}),d.map((function(e){return Object(f.jsx)("li",{children:Object(f.jsx)(o.b,{to:"/".concat(e.id),className:"main__link",children:e.name})},e.id)}))]})}),Object(f.jsx)("div",{className:"main__content",children:Object(f.jsx)(l.c,{children:d.map((function(e){return Object(f.jsx)(n.Fragment,{children:Object(f.jsx)(l.a,{path:"/".concat(e.id),element:Object(f.jsx)(_,{data:e})})},e.id)}))})})]})]})};a(24);r.a.render(Object(f.jsx)(o.a,{children:Object(f.jsx)(N,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.789d61d2.chunk.js.map