{"version":3,"sources":["api/api.jsx","components/Navigation/Navigation.jsx","components/RouteElement.jsx","components/App/App.jsx","index.js"],"names":["getCompanies","url","fetch","then","response","ok","Error","status","statusText","json","Navigation","state","companies","a","this","setState","restoreData","className","href","type","placeholder","onChange","event","props","getQuery","target","value","onClick","console","log","getData","localStorage","setItem","JSON","stringify","importData","React","Component","RouteElement","item","useState","data","boxes","inputValue","setInputValue","id","currentId","setCurrentId","inputError","setInputError","name","email","Math","ceil","split","reduce","sum","n","Number","htmlFor","classNames","filter","el","every","trim","style","color","margin","App","searchValue","setSearchValue","dataFromJson","setDataFromJson","dataOfCompanies","parse","getItem","filteredCompanies","searchRequest","toLowerCase","includes","length","textAlign","map","to","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b2cec92b.chunk.js","sourcesContent":["const BASE_URL = \"https://ruslan-bondarenko.github.io/tt_fourmeta\";\n\nexport const request = (url) => {\n  return fetch(`${BASE_URL}${url}`)\n    .then(response => {\n      if(!response.ok) {\n        throw new Error(`${response.status} - ${response.statusText}`);\n      }\n\n      return response.json();\n    })\n};\n\nexport const getCompanies = () => {\n  return request('/data/shipments.json');\n};","import React from 'react';\nimport './Navigation.scss';\nimport { getCompanies } from '../../api/api';\n\nexport class Navigation extends React.Component {\n  state = {\n    companies: [],\n  }\n  \n  async restoreData() {\n    const companies = await getCompanies();\n    this.setState({ companies });\n  }\n\n  componentDidMount() {\n    this.restoreData();\n  }\n  \n  render() {\n\n    return (  \n      <div>\n        <nav className=\"nav\">\n          <a\n            href='/'\n            className='nav__link'\n          >\n            Cargo Planner\n          </a>\n          <input\n            type=\"text\"\n            className=\"search_input search\"\n            placeholder=\"Search\"\n            onChange={(event) => {\n              this.props.getQuery(event.target.value);\n            }}\n          />\n            <div className='nav__btn'>\n              <button\n                type=\"button\"\n                className='nav__btn-item'\n                onClick={() => {\n                  console.log(\"Load\");\n                  this.restoreData();\n                  this.props.getData(this.state.companies);\n                }}\n              >\n                Load\n              </button>\n\n              <button\n                type='button'\n                className='nav__btn-item'\n                onClick={() => {\n                  console.log(\"Save\");\n                  localStorage.setItem('dataOfCompanies', JSON.stringify(this.props.importData));\n                }}\n              >\n                Save\n              </button>\n            </div>\n            \n        </nav>\n      </div>\n      )\n    }\n  }\n\n  \n  ","import classNames from \"classnames\";\nimport React, { useState } from \"react\";\n\nexport const RouteElement = (item) => {\n  const [inputValue, setInputValue] = useState(item.data.boxes);\n\n  const [currentId, setCurrentId] = useState(item.data.id);\n  const [inputError, setInputError] = useState(false);\n\n  if (currentId !== item.data.id) {\n    setCurrentId(item.data.id);\n    setInputError(false);\n    setInputValue(item.data.boxes);\n\n    if (item.data.boxes == null) {\n      setInputValue('');\n    }\n  }\n\n  return (\n    <div className=\"main__items\">\n      <h2 className=\"main__company-name title\">{item.data.name}</h2>\n      <h3 className=\"main__company-email subtitle\"><a href={`mailto:${item.data.email}`}>{item.data.email}</a></h3>\n      <p\n        className=\"main__company-num-of-boxes\"\n      >\n        Number of required cargo bays: {(inputValue !== null) ? Math.ceil(inputValue.split(',').reduce((sum, n) => sum + Number(n) / 10, 0)) : 0}\n      </p>\n      <label\n        htmlFor=\"cargo-boxes\"\n        className=\"main__company-cargo-title\"\n      >\n        Cargo boxes:\n      </label>\n      <input\n        type=\"text\"\n        id=\"cargo-boxes\"\n        className={classNames({\n          \"input main__company-cargo-put\": true,\n          \"input is-danger\": inputError,\n        })}\n        value={inputValue}\n        onChange={(event) => {\n          if (!event.target.value.split(',').filter(el => el !== '').every(el => Number(el))) {\n            setInputError(true);\n          } else {\n            setInputError(false);\n            setInputValue(event.target.value.trim());\n            item.data.boxes = event.target.value.trim();\n          }\n        }}\n      />\n      {inputError && (\n        <div style={{color: \"#f00\", margin: \"10px 0 0 0\"}}>Invalid value, enter only numbers!</div>\n      )}\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Link, Route, Routes } from \"react-router-dom\";\nimport { Navigation } from '../Navigation/Navigation';\n\nimport './App.scss';\nimport { Fragment } from 'react';\nimport { RouteElement } from '../RouteElement';\n\nconst App = () => {\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [dataFromJson, setDataFromJson] = useState([]);\n  \n  const dataOfCompanies = JSON.parse(localStorage.getItem(\"dataOfCompanies\")) || dataFromJson ;\n\n  const filteredCompanies = dataOfCompanies.filter(item => {\n    const searchRequest = searchValue.toLowerCase();\n    const name = item.name.toLowerCase();\n    return name.includes(searchRequest);\n  });\n\n  return (\n    <div>\n      <Navigation getQuery={setSearchValue} getData={setDataFromJson} importData={dataOfCompanies}/>\n\n      <div className=\"main\">\n        <div className=\"main__sidebar\">\n          <ul className=\"main__group\">\n\n            {(dataFromJson.length === 0 && JSON.parse(localStorage.getItem('dataOfCompanies')) == null)&&\n            (\n              <p style={{textAlign: 'center'}}>Press Load to get data!</p>\n            )}\n            {((dataFromJson.length > 0 || JSON.parse(localStorage.getItem('dataOfCompanies'))) && filteredCompanies.length === 0)&&\n            (\n              <p style={{textAlign: 'center'}}>No companies</p>\n            )}\n\n            {filteredCompanies.map(companies => {\n              return (\n                <li key={companies.id}>\n                  <Link\n                    to={`/${companies.id}`}\n                    className=\"main__link\"\n                  >\n                    {companies.name}\n                  </Link>\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n        <div className=\"main__content\">\n          <Routes>\n            {filteredCompanies.map(item => {\n              return (\n                <Fragment key={item.id}>\n                  <Route\n                    path={`/${item.id}`}\n                    element={\n                      <RouteElement data={item} />\n                    }\n                  />\n                </Fragment>\n              )\n            })}\n          </Routes>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport 'bulma';\n\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}