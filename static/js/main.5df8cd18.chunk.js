(this.webpackJsonpfourmeta_tt=this.webpackJsonpfourmeta_tt||[]).push([[0],{20:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(9),r=a.n(s),o=a(4),i=a(5),l=a(1),u=a(8),j=a.n(u),m=a(10),d=a(11),b=a(12),h=a(14),p=a(13),O=(a(20),function(){return e="/data/shipments.json",fetch("".concat("https://ruslan-bondarenko.github.io/tt_fourmeta").concat(e)).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}));var e}),x=a(2),f=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={companies:[]},e}return Object(b.a)(a,[{key:"restoreData",value:function(){var e=Object(m.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,this.setState({companies:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.restoreData()}},{key:"render",value:function(){var e=this;return Object(x.jsx)("div",{children:Object(x.jsxs)("nav",{className:"nav",children:[Object(x.jsx)("a",{href:"/",className:"nav__link",children:"Cargo Planner"}),Object(x.jsx)("input",{type:"text",className:"search_input search",placeholder:"Search",onChange:function(t){e.props.getQuery(t.target.value)}}),Object(x.jsxs)("div",{className:"nav__btn",children:[Object(x.jsx)("button",{type:"button",className:"nav__btn-item",onClick:function(){console.log("Load"),e.restoreData(),e.props.getData(e.state.companies)},children:"Load"}),Object(x.jsx)("button",{type:"button",className:"nav__btn-item",onClick:function(){console.log("Save"),localStorage.setItem("dataOfCompanies",JSON.stringify(e.props.importData))},children:"Save"})]})]})})}}]),a}(c.a.Component),g=(a(22),function(e){var t=Object(n.useState)(e.data.boxes),a=Object(o.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(e.data.id),i=Object(o.a)(r,2),l=i[0],u=i[1];return console.log("Route item",e.data),l!==e.data.id&&(u(e.data.id),s(e.data.boxes),null==e.data.boxes&&s("")),Object(x.jsxs)("div",{className:"main__items",children:[Object(x.jsx)("h2",{className:"main__company-name",children:e.data.name}),Object(x.jsx)("h3",{className:"main__company-email",children:Object(x.jsx)("a",{href:"mailto:".concat(e.data.email),children:e.data.email})}),Object(x.jsxs)("p",{className:"main__company-num-of-boxes",children:["Number of required cargo bays: ",null!==c?c.split(",").filter((function(e){return""!==e})).length:0]}),Object(x.jsx)("label",{htmlFor:"cargo-boxes",className:"main__company-cargo-title",children:"Cargo boxes:"}),Object(x.jsx)("input",{type:"text",id:"cargo-boxes",className:"main__company-cargo-put",value:c,onChange:function(t){s(t.target.value),e.data.boxes=t.target.value}})]})}),v=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(o.a)(s,2),u=r[0],j=r[1],m=JSON.parse(localStorage.getItem("dataOfCompanies"))||u,d=m.filter((function(e){var t=a.toLowerCase();return e.name.toLowerCase().includes(t)}));return Object(x.jsxs)("div",{children:[Object(x.jsx)(f,{getQuery:c,getData:j,importData:m}),Object(x.jsxs)("div",{className:"main",children:[Object(x.jsx)("div",{className:"main__sidebar",children:Object(x.jsxs)("ul",{className:"main__group",children:[0===u.length&&null==JSON.parse(localStorage.getItem("dataOfCompanies"))&&Object(x.jsx)("p",{style:{textAlign:"center"},children:"Press Load to get data!"}),(u.length>0||JSON.parse(localStorage.getItem("dataOfCompanies")))&&0===d.length&&Object(x.jsx)("p",{style:{textAlign:"center"},children:"No companies"}),d.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/".concat(e.id),className:"main__link",children:e.name})},e.id)}))]})}),Object(x.jsx)("div",{className:"main__content",children:Object(x.jsx)(l.c,{children:d.map((function(e){return Object(x.jsx)(n.Fragment,{children:Object(x.jsx)(l.a,{path:"/".concat(e.id),element:Object(x.jsx)(g,{data:e})})},e.id)}))})})]})]})};r.a.render(Object(x.jsx)(i.a,{children:Object(x.jsx)(v,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.5df8cd18.chunk.js.map