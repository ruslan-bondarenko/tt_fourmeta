{"version":3,"sources":["api/api.jsx","components/Navigation/Navigation.jsx","components/RouteElement.jsx","components/App/App.jsx","index.js"],"names":["getCompanies","url","fetch","then","response","ok","Error","status","statusText","json","Navigation","state","companies","a","this","setState","restoreData","className","href","type","placeholder","onChange","event","props","getQuery","target","value","onClick","console","log","getData","localStorage","setItem","JSON","stringify","importData","React","Component","RouteElement","item","useState","data","boxes","inputValue","setInputValue","id","currentId","setCurrentId","name","email","split","filter","el","length","htmlFor","App","searchValue","setSearchValue","dataFromJson","setDataFromJson","dataOfCompanies","parse","getItem","filteredCompanies","searchRequest","toLowerCase","includes","style","textAlign","map","to","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5df8cd18.chunk.js","sourcesContent":["const BASE_URL = \"https://ruslan-bondarenko.github.io/tt_fourmeta\";\n\nexport const request = (url) => {\n  return fetch(`${BASE_URL}${url}`)\n    .then(response => {\n      if(!response.ok) {\n        throw new Error(`${response.status} - ${response.statusText}`);\n      }\n\n      return response.json();\n    })\n};\n\nexport const getCompanies = () => {\n  return request('/data/shipments.json');\n};","import React from 'react';\nimport './Navigation.scss';\nimport { getCompanies } from '../../api/api';\n\nexport class Navigation extends React.Component {\n  state = {\n    companies: [],\n  }\n  \n  async restoreData() {\n    const companies = await getCompanies();\n    this.setState({ companies });\n  }\n\n  componentDidMount() {\n    this.restoreData();\n  }\n  \n  render() {\n\n    return (  \n      <div>\n        <nav className=\"nav\">\n          <a\n            href='/'\n            className='nav__link'\n          >\n            Cargo Planner\n          </a>\n          <input\n            type=\"text\"\n            className=\"search_input search\"\n            placeholder=\"Search\"\n            onChange={(event) => {\n              this.props.getQuery(event.target.value);\n            }}\n          />\n            <div className='nav__btn'>\n              <button\n                type=\"button\"\n                className='nav__btn-item'\n                onClick={() => {\n                  console.log(\"Load\");\n                  this.restoreData();\n                  this.props.getData(this.state.companies);\n                }}\n              >\n                Load\n              </button>\n\n              <button\n                type='button'\n                className='nav__btn-item'\n                onClick={() => {\n                  console.log(\"Save\");\n                  localStorage.setItem('dataOfCompanies', JSON.stringify(this.props.importData));\n                }}\n              >\n                Save\n              </button>\n            </div>\n            \n        </nav>\n      </div>\n      )\n    }\n  }\n\n  \n  ","import React, { useState } from \"react\";\n\nexport const RouteElement = (item) => {\n  const [inputValue, setInputValue] = useState(item.data.boxes);\n\n  const [currentId, setCurrentId] = useState(item.data.id);\n\n  console.log(\"Route item\", item.data);\n\n  if (currentId !== item.data.id) {\n    setCurrentId(item.data.id);\n    setInputValue(item.data.boxes);\n\n    if (item.data.boxes == null) {\n      setInputValue('');\n    }\n  }\n\n  return (\n    <div className=\"main__items\">\n      <h2 className=\"main__company-name\">{item.data.name}</h2>\n      <h3 className=\"main__company-email\"><a href={`mailto:${item.data.email}`}>{item.data.email}</a></h3>\n      <p\n        className=\"main__company-num-of-boxes\"\n      >\n        Number of required cargo bays: {(inputValue !== null) ? inputValue.split(',').filter(el => el !== '').length : 0}\n      </p>\n      <label\n        htmlFor=\"cargo-boxes\"\n        className=\"main__company-cargo-title\"\n      >\n        Cargo boxes:\n      </label>\n      <input\n        type=\"text\"\n        id=\"cargo-boxes\"\n        className=\"main__company-cargo-put\"\n        value={inputValue}\n        onChange={(event) => {\n          setInputValue(event.target.value);\n          item.data.boxes = event.target.value;\n        }}\n      />\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Link, Route, Routes } from \"react-router-dom\";\nimport { Navigation } from '../Navigation/Navigation';\n\nimport './App.scss';\nimport { Fragment } from 'react';\nimport { RouteElement } from '../RouteElement';\n\nconst App = () => {\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [dataFromJson, setDataFromJson] = useState([]);\n  \n  const dataOfCompanies = JSON.parse(localStorage.getItem(\"dataOfCompanies\")) || dataFromJson ;\n\n  const filteredCompanies = dataOfCompanies.filter(item => {\n    const searchRequest = searchValue.toLowerCase();\n    const name = item.name.toLowerCase();\n    return name.includes(searchRequest);\n  });\n\n  return (\n    <div>\n      <Navigation getQuery={setSearchValue} getData={setDataFromJson} importData={dataOfCompanies}/>\n\n      <div className=\"main\">\n        <div className=\"main__sidebar\">\n          <ul className=\"main__group\">\n\n            {(dataFromJson.length === 0 && JSON.parse(localStorage.getItem('dataOfCompanies')) == null)&&\n            (\n              <p style={{textAlign: 'center'}}>Press Load to get data!</p>\n            )}\n            {((dataFromJson.length > 0 || JSON.parse(localStorage.getItem('dataOfCompanies'))) && filteredCompanies.length === 0)&&\n            (\n              <p style={{textAlign: 'center'}}>No companies</p>\n            )}\n\n            {filteredCompanies.map(companies => {\n              return (\n                <li key={companies.id}>\n                  <Link\n                    to={`/${companies.id}`}\n                    className=\"main__link\"\n                  >\n                    {companies.name}\n                  </Link>\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n        <div className=\"main__content\">\n          <Routes>\n            {filteredCompanies.map(item => {\n              return (\n                <Fragment key={item.id}>\n                  <Route\n                    path={`/${item.id}`}\n                    element={\n                      <RouteElement data={item} />\n                    }\n                  />\n                </Fragment>\n              )\n            })}\n          </Routes>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}