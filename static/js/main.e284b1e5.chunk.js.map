{"version":3,"sources":["api/api.jsx","components/Navigation/Navigation.jsx","components/RouteElement.jsx","components/App/App.jsx","index.js"],"names":["getCompanies","url","fetch","then","response","ok","Error","status","statusText","json","Navigation","state","isLoaded","companies","a","this","setState","className","href","type","placeholder","onChange","event","props","getQuery","target","value","console","log","onClick","JSON","parse","localStorage","getItem","getData","setItem","stringify","importData","React","Component","RouteElement","item","useState","data","boxes","inputValue","setInputValue","id","currentId","setCurrentId","name","email","split","filter","el","length","htmlFor","App","searchValue","setSearchValue","dataFromJson","setDataFromJson","dataOfCompanies","filteredCompanies","searchRequest","toLowerCase","includes","map","to","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e284b1e5.chunk.js","sourcesContent":["const BASE_URL = \"https://ruslan-bondarenko.github.io/tt_fourmeta\";\n\nexport const request = (url) => {\n  return fetch(`${BASE_URL}${url}`)\n    .then(response => {\n      if(!response.ok) {\n        throw new Error(`${response.status} - ${response.statusText}`);\n      }\n\n      return response.json();\n    })\n};\n\nexport const getCompanies = () => {\n  return request('/data/shipments.json');\n};","import React from 'react';\nimport './Navigation.scss';\nimport { getCompanies } from '../../api/api';\n\nexport class Navigation extends React.Component {\n  state = {\n    isLoaded: false,\n    companies: [],\n  }\n\n  async componentDidMount() {\n    const companies = await getCompanies();\n    this.setState({ companies })\n  }\n\n  render() {\n\n    return (  \n      <div>\n        <nav className=\"nav\">\n          <a\n            href='/'\n            className='nav__link'\n          >\n            Cargo Planner\n          </a>\n          <input\n            type=\"text\"\n            className=\"search_input search\"\n            placeholder=\"Search\"\n            onChange={(event) => {\n              this.props.getQuery(event.target.value);\n              console.log(event.target.value);\n            }}\n          />\n            <div className='nav__btn'>\n              <button\n                type=\"button\"\n                className='nav__btn-item'\n                onClick={() => {\n                  console.log(\"Load\");\n                  JSON.parse(localStorage.getItem('dataOfCompanies'));\n                  this.props.getData(this.state.companies);\n                }}\n              >\n                Load\n              </button>\n\n              <button\n                type='button'\n                className='nav__btn-item'\n                onClick={() => {\n                  console.log(\"Save\");\n                  localStorage.setItem('dataOfCompanies', JSON.stringify(this.props.importData));\n                }}\n              >\n                Save\n              </button>\n            </div>\n            \n        </nav>\n      </div>\n      )\n    }\n  }\n\n  \n  ","import React, { useState } from \"react\";\n\nexport const RouteElement = (item) => {\n  const [inputValue, setInputValue] = useState(item.data.boxes);\n\n  const [currentId, setCurrentId] = useState(item.data.id);\n\n  console.log(\"Route item\", item.data);\n\n  if (currentId !== item.data.id) {\n    setCurrentId(item.data.id);\n    setInputValue(item.data.boxes);\n\n    if (item.data.boxes == null) {\n      setInputValue('');\n    }\n\n    console.log('IF', item.data.name);\n  }\n\n  return (\n    <div className=\"main__items\">\n      <h2 className=\"main__company-name\">{item.data.name}</h2>\n      <h3 className=\"main__company-email\"><a href={`mailto:${item.data.email}`}>{item.data.email}</a></h3>\n      <p\n        className=\"main__company-num-of-boxes\"\n      >\n        Number of required cargo bays: {(inputValue !== null) ? inputValue.split(',').filter(el => el !== '').length : 0}\n      </p>\n      <label\n        htmlFor=\"cargo-boxes\"\n        className=\"main__company-cargo-title\"\n      >\n        Cargo boxes:\n      </label>\n      <input\n        type=\"text\"\n        id=\"cargo-boxes\"\n        className=\"main__company-cargo-put\"\n        value={inputValue}\n        onChange={(event) => {\n          setInputValue(event.target.value);\n          item.data.boxes = event.target.value;\n        }}\n      />\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Link, Route, Routes } from \"react-router-dom\";\nimport { Navigation } from '../Navigation/Navigation';\n\nimport './App.scss';\nimport { Fragment } from 'react';\nimport { RouteElement } from '../RouteElement';\n\nconst App = () => {\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [dataFromJson, setDataFromJson] = useState([]);\n  \n  const dataOfCompanies = JSON.parse(localStorage.getItem(\"dataOfCompanies\")) || dataFromJson ;\n\n  const filteredCompanies = dataOfCompanies.filter(item => {\n    const searchRequest = searchValue.toLowerCase();\n    const name = item.name.toLowerCase();\n    return name.includes(searchRequest);\n  });\n\n  return (\n    <div>\n      <Navigation getQuery={setSearchValue} getData={setDataFromJson} importData={dataOfCompanies}/>\n\n      <div className=\"main\">\n        <div className=\"main__sidebar\">\n          <ul>\n\n            {(dataFromJson.length === 0 && JSON.parse(localStorage.getItem('dataOfCompanies')) == null)&&\n            (\n              <p>Press Load to get data!</p>\n            )}\n            {((dataFromJson.length > 0 || JSON.parse(localStorage.getItem('dataOfCompanies'))) && filteredCompanies.length === 0)&&\n            (\n              <p>No companies</p>\n            )}\n\n            {filteredCompanies.map(companies => {\n              return (\n                <li key={companies.id}>\n                  <Link\n                    to={`/${companies.id}`}\n                    className=\"main__link\"\n                  >\n                    {companies.name}\n                  </Link>\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n        <div className=\"main__content\">\n          <Routes>\n            {filteredCompanies.map(item => {\n              return (\n                <Fragment key={item.id}>\n                  <Route\n                    path={`/${item.id}`}\n                    element={\n                      <RouteElement data={item} />\n                    }\n                  />\n                </Fragment>\n              )\n            })}\n          </Routes>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}